<script>
document.addEventListener("DOMContentLoaded", function () {
    // Slider variables
    const sliderContainer = document.getElementById("slider-container");
    const sliderDots = document.querySelectorAll(".slider-dot");
    const slideCount = sliderDots.length;
    let currentSlide = 0;
    let autoSlideTimeout;

    // Function to go to a specific slide
    function goToSlide(n) {
        currentSlide = (n + slideCount) % slideCount;
        sliderContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
        sliderDots.forEach((dot, i) => {
            dot.classList.toggle("active", i === currentSlide);
            dot.classList.toggle("bg-shell-red", i === currentSlide);
            dot.classList.toggle("bg-gray-300", i !== currentSlide);
        });
    }

    // Next slide logic
    function nextSlide() {
        goToSlide(currentSlide + 1);
    }

    // Previous slide logic
    function prevSlide() {
        goToSlide(currentSlide - 1);
    }

    // Dot controls
    sliderDots.forEach((dot, i) => {
        dot.addEventListener("click", () => {
            goToSlide(i);
            resetAutoSlide();
        });
    });

    // Button controls (if present)
    const nextBtn = document.getElementById("next-btn");
    const prevBtn = document.getElementById("prev-btn");
    if (nextBtn) nextBtn.addEventListener("click", () => { nextSlide(); resetAutoSlide(); });
    if (prevBtn) prevBtn.addEventListener("click", () => { prevSlide(); resetAutoSlide(); });

    // Auto slide logic
    function autoSlide() {
        nextSlide();
        autoSlideTimeout = setTimeout(autoSlide, 4000); // change every 4 seconds
    }
    function resetAutoSlide() {
        clearTimeout(autoSlideTimeout);
        autoSlideTimeout = setTimeout(autoSlide, 4000);
    }

    // Initialize
    goToSlide(0);
    autoSlideTimeout = setTimeout(autoSlide, 4000);
});
</script>